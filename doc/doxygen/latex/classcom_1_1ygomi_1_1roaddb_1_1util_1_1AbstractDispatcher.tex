\hypertarget{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher}{\section{com\-:\-:ygomi\-:\-:roaddb\-:\-:util\-:\-:Abstract\-Dispatcher Class Reference}
\label{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher}\index{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}}
}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a2e860edf89bd3155f1ce6cc3064304a1}{Abstract\-Dispatcher} ()
\item 
\hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_ab44bef08a5b9db58dd95ac3584076747}{Abstract\-Dispatcher} (\hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1TSQueue}{T\-S\-Queue}$<$ \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1Message}{Message} $>$ $\ast$msg\-Queue)
\item 
\hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a7a124cba04ea69769b41d73a10b39c22}{Abstract\-Dispatcher} (\hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1ThreadPool}{Thread\-Pool} $\ast$thread\-Pool)
\item 
\hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a4f2e1384403028d54fbe78854ea3fb9b}{Abstract\-Dispatcher} (\hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1TSQueue}{T\-S\-Queue}$<$ \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1Message}{Message} $>$ $\ast$msg\-Queue, \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1ThreadPool}{Thread\-Pool} $\ast$thread\-Pool)
\item 
virtual \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a3f1800c1708851f9c597eeada99baa93}{$\sim$\-Abstract\-Dispatcher} ()
\item 
virtual std\-::shared\-\_\-ptr$<$ \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1Work}{Work} $>$ \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_ae8da99ca541d0172aa4bcf1e90ed7b3a}{get\-Work} (std\-::shared\-\_\-ptr$<$ \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1Message}{Message} $>$ message)=0
\item 
virtual bool \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_adc2d0d54275c6f51c771d2fc78cf51fa}{dispatch} ()
\item 
virtual bool \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_aeabd34c4dbb632d31f300dc1ef653a4e}{dispatch} (std\-::shared\-\_\-ptr$<$ \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1Message}{Message} $>$ message)
\item 
virtual bool \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a47e090db520b77c4badb1d47c71ee363}{dispatch} (\hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1WorkThread}{Work\-Thread} $\ast$work\-Thread)
\item 
virtual bool \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_aea9ddca991bc4ff32d626d85738a794d}{dispatch} (std\-::shared\-\_\-ptr$<$ \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1Message}{Message} $>$ message, \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1WorkThread}{Work\-Thread} $\ast$work\-Thread)
\end{DoxyCompactItemize}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a2e860edf89bd3155f1ce6cc3064304a1}{\index{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}!Abstract\-Dispatcher@{Abstract\-Dispatcher}}
\index{Abstract\-Dispatcher@{Abstract\-Dispatcher}!com::ygomi::roaddb::util::AbstractDispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}}
\subsubsection[{Abstract\-Dispatcher}]{\setlength{\rightskip}{0pt plus 5cm}com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher\-::\-Abstract\-Dispatcher (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a2e860edf89bd3155f1ce6cc3064304a1}
Default Constructor \hypertarget{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_ab44bef08a5b9db58dd95ac3584076747}{\index{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}!Abstract\-Dispatcher@{Abstract\-Dispatcher}}
\index{Abstract\-Dispatcher@{Abstract\-Dispatcher}!com::ygomi::roaddb::util::AbstractDispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}}
\subsubsection[{Abstract\-Dispatcher}]{\setlength{\rightskip}{0pt plus 5cm}com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher\-::\-Abstract\-Dispatcher (
\begin{DoxyParamCaption}
\item[{{\bf T\-S\-Queue}$<$ {\bf Message} $>$ $\ast$}]{msg\-Queue}
\end{DoxyParamCaption}
)}}\label{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_ab44bef08a5b9db58dd95ac3584076747}
Constructor


\begin{DoxyParams}{Parameters}
{\em msg\-Queue} & The message queue to which this dispatcher is bound.\\
\hline
\end{DoxyParams}
Notes\-: When bound to msg\-Queue, this dispatcher will fetch message from msg\-Queue. If msg\-Queue is null, it is same as \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a2e860edf89bd3155f1ce6cc3064304a1}{Abstract\-Dispatcher()}. \hypertarget{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a7a124cba04ea69769b41d73a10b39c22}{\index{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}!Abstract\-Dispatcher@{Abstract\-Dispatcher}}
\index{Abstract\-Dispatcher@{Abstract\-Dispatcher}!com::ygomi::roaddb::util::AbstractDispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}}
\subsubsection[{Abstract\-Dispatcher}]{\setlength{\rightskip}{0pt plus 5cm}com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher\-::\-Abstract\-Dispatcher (
\begin{DoxyParamCaption}
\item[{{\bf Thread\-Pool} $\ast$}]{thread\-Pool}
\end{DoxyParamCaption}
)}}\label{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a7a124cba04ea69769b41d73a10b39c22}
Constructor


\begin{DoxyParams}{Parameters}
{\em thread\-Pool} & The thread pool to which this dispatcher is bound.\\
\hline
\end{DoxyParams}
Notes\-: When bound to thread\-Pool, this dispatcher will fetch work thread from thread\-Pool. If thread\-Pool is null, it is same as \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a2e860edf89bd3155f1ce6cc3064304a1}{Abstract\-Dispatcher()}. \hypertarget{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a4f2e1384403028d54fbe78854ea3fb9b}{\index{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}!Abstract\-Dispatcher@{Abstract\-Dispatcher}}
\index{Abstract\-Dispatcher@{Abstract\-Dispatcher}!com::ygomi::roaddb::util::AbstractDispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}}
\subsubsection[{Abstract\-Dispatcher}]{\setlength{\rightskip}{0pt plus 5cm}com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher\-::\-Abstract\-Dispatcher (
\begin{DoxyParamCaption}
\item[{{\bf T\-S\-Queue}$<$ {\bf Message} $>$ $\ast$}]{msg\-Queue, }
\item[{{\bf Thread\-Pool} $\ast$}]{thread\-Pool}
\end{DoxyParamCaption}
)}}\label{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a4f2e1384403028d54fbe78854ea3fb9b}
Constructor


\begin{DoxyParams}{Parameters}
{\em msg\-Queue} & The message queue to which this dispatcher is bound. \\
\hline
{\em thread\-Pool} & The thread pool to which this dispatcher is bound.\\
\hline
\end{DoxyParams}
Notes\-:
\begin{DoxyEnumerate}
\item If msg\-Queue is null and thread\-Pool is not, it is same as \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a7a124cba04ea69769b41d73a10b39c22}{Abstract\-Dispatcher(\-Thread\-Pool$\ast$ thread\-Pool)}.
\item If thread\-Pool is null and msg\-Queue is not, it is same as \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_ab44bef08a5b9db58dd95ac3584076747}{Abstract\-Dispatcher(\-T\-S\-Queue$<$\-Message$>$$\ast$ msg\-Queue)}.
\item If both msg\-Queue and thread\-Pool is null, it is same as \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a2e860edf89bd3155f1ce6cc3064304a1}{Abstract\-Dispatcher()}. 
\end{DoxyEnumerate}\hypertarget{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a3f1800c1708851f9c597eeada99baa93}{\index{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}!$\sim$\-Abstract\-Dispatcher@{$\sim$\-Abstract\-Dispatcher}}
\index{$\sim$\-Abstract\-Dispatcher@{$\sim$\-Abstract\-Dispatcher}!com::ygomi::roaddb::util::AbstractDispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}}
\subsubsection[{$\sim$\-Abstract\-Dispatcher}]{\setlength{\rightskip}{0pt plus 5cm}com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher\-::$\sim$\-Abstract\-Dispatcher (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a3f1800c1708851f9c597eeada99baa93}
Desctructor 

\subsection{Member Function Documentation}
\hypertarget{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_adc2d0d54275c6f51c771d2fc78cf51fa}{\index{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}!dispatch@{dispatch}}
\index{dispatch@{dispatch}!com::ygomi::roaddb::util::AbstractDispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}}
\subsubsection[{dispatch}]{\setlength{\rightskip}{0pt plus 5cm}bool com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher\-::dispatch (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_adc2d0d54275c6f51c771d2fc78cf51fa}
Fetech a message from the message queue (given in the constructor) and then dispatch it to a work thread fetched from the work pool (given in the constructor). This method shall be used when the instance is created by \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a4f2e1384403028d54fbe78854ea3fb9b}{Abstract\-Dispatcher(\-T\-S\-Queue$<$\-Message$>$$\ast$ msg\-Queue, Thread\-Pool$\ast$ thread\-Pool)}. If not so, nothing will be done.

\begin{DoxyReturn}{Returns}
If either no message is fetched or no idle work thread is fetched, return false, otherwise return true.
\end{DoxyReturn}
Notes\-: What this method does is actually\-:
\begin{DoxyEnumerate}
\item Fetch a message from the message queue (given in the constructor);
\item Fetch a work thread from the thread pool (given in the constructor);
\item Call \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_ae8da99ca541d0172aa4bcf1e90ed7b3a}{get\-Work()} with the fetched message to get the corresponding work;
\item Call set\-Input\-Msg() on the work object to attach the message to the work;
\item Call do\-Work() on the fetched work thread with the work given as argument to fulfill the work. 
\end{DoxyEnumerate}\hypertarget{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_aeabd34c4dbb632d31f300dc1ef653a4e}{\index{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}!dispatch@{dispatch}}
\index{dispatch@{dispatch}!com::ygomi::roaddb::util::AbstractDispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}}
\subsubsection[{dispatch}]{\setlength{\rightskip}{0pt plus 5cm}bool com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher\-::dispatch (
\begin{DoxyParamCaption}
\item[{std\-::shared\-\_\-ptr$<$ {\bf Message} $>$}]{message}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_aeabd34c4dbb632d31f300dc1ef653a4e}
Dispatch the given message to a work thread fetched from the thread pool (given in the constructor). This method shall be used when a thread pool is given when this instance is created. If not so, nothing will be done.


\begin{DoxyParams}{Parameters}
{\em message} & The message to be dispatched. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If message is null or no idle work thread is fetched, return false, otherwise return true.
\end{DoxyReturn}
Notes\-: What this method does is actually\-:
\begin{DoxyEnumerate}
\item Fetch a work thread from the thread pool (given in the constructor);
\item Call \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_ae8da99ca541d0172aa4bcf1e90ed7b3a}{get\-Work()} with the given message to get the corresponding work;
\item Call set\-Input\-Msg() on the work object to attach the message to the work;
\item Call do\-Work() on the fetched work thread with the work given as argument to fulfill the work. 
\end{DoxyEnumerate}\hypertarget{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a47e090db520b77c4badb1d47c71ee363}{\index{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}!dispatch@{dispatch}}
\index{dispatch@{dispatch}!com::ygomi::roaddb::util::AbstractDispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}}
\subsubsection[{dispatch}]{\setlength{\rightskip}{0pt plus 5cm}bool com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher\-::dispatch (
\begin{DoxyParamCaption}
\item[{{\bf Work\-Thread} $\ast$}]{work\-Thread}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a47e090db520b77c4badb1d47c71ee363}
Fetch a message from the message pool (given in the constructor) and dispatch it to the given work thread. This method shall be used when a message queue is given when this instance is created. If not so, nothing will be done.


\begin{DoxyParams}{Parameters}
{\em work\-Thread} & The work thread to be dispatched to. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If work\-Thread is null or no message is fetched, return false, otherwise return true.
\end{DoxyReturn}
Notes\-: What this method does is actually\-:
\begin{DoxyEnumerate}
\item Fetch a message from the message pool (given in the constructor);
\item Call \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_ae8da99ca541d0172aa4bcf1e90ed7b3a}{get\-Work()} with the fetched message to get the corresponding work;
\item Call set\-Input\-Msg() on the work object to attach the message to the work;
\item Call do\-Work() on the given work thread with the work given as argument to fulfill the work. 
\end{DoxyEnumerate}\hypertarget{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_aea9ddca991bc4ff32d626d85738a794d}{\index{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}!dispatch@{dispatch}}
\index{dispatch@{dispatch}!com::ygomi::roaddb::util::AbstractDispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}}
\subsubsection[{dispatch}]{\setlength{\rightskip}{0pt plus 5cm}bool com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher\-::dispatch (
\begin{DoxyParamCaption}
\item[{std\-::shared\-\_\-ptr$<$ {\bf Message} $>$}]{message, }
\item[{{\bf Work\-Thread} $\ast$}]{work\-Thread}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_aea9ddca991bc4ff32d626d85738a794d}
Dispatch the given message to the given work thread. This method shall be used when the instance is created by \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_a2e860edf89bd3155f1ce6cc3064304a1}{Abstract\-Dispatcher()}. If not so, nothing will be done.


\begin{DoxyParams}{Parameters}
{\em message} & The message to be dispatched. \\
\hline
{\em work\-Thread} & The message to be dispatched to. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If message is null or work\-Thread is null, return false, otherwise return true.
\end{DoxyReturn}
Notes\-: What this method does is actually\-:
\begin{DoxyEnumerate}
\item Call \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_ae8da99ca541d0172aa4bcf1e90ed7b3a}{get\-Work()} to get corresponding work of the message;
\item Call set\-Input\-Msg() on the work object to attach the message to the work;
\item Call do\-Work() on the given work thread with the work given as argument to fulfill the work. 
\end{DoxyEnumerate}\hypertarget{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_ae8da99ca541d0172aa4bcf1e90ed7b3a}{\index{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}!get\-Work@{get\-Work}}
\index{get\-Work@{get\-Work}!com::ygomi::roaddb::util::AbstractDispatcher@{com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher}}
\subsubsection[{get\-Work}]{\setlength{\rightskip}{0pt plus 5cm}virtual std\-::shared\-\_\-ptr$<${\bf Work}$>$ com\-::ygomi\-::roaddb\-::util\-::\-Abstract\-Dispatcher\-::get\-Work (
\begin{DoxyParamCaption}
\item[{std\-::shared\-\_\-ptr$<$ {\bf Message} $>$}]{message}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [pure virtual]}}}\label{classcom_1_1ygomi_1_1roaddb_1_1util_1_1AbstractDispatcher_ae8da99ca541d0172aa4bcf1e90ed7b3a}
Get the work object which is supposed to handle the given message.


\begin{DoxyParams}{Parameters}
{\em message} & The specified message. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The work object which is supposed to handle the given message.
\end{DoxyReturn}
Notes\-:
\begin{DoxyEnumerate}
\item Normally this method shall return a specific type of \hyperlink{classcom_1_1ygomi_1_1roaddb_1_1util_1_1Work}{Work} object according to a specific type of message.
\item This is an abstract method. Implement this method to customize message-\/to-\/work mapping. 
\end{DoxyEnumerate}

The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
/opt/db-\/vehicle-\/agent/source/com/ygomi/roaddb/util/Abstract\-Dispatcher.\-h\item 
/opt/db-\/vehicle-\/agent/source/com/ygomi/roaddb/util/Abstract\-Dispatcher.\-cpp\end{DoxyCompactItemize}
